# Floating 현상과 PULL-UP & PULL-DOWN
===================================

## 1. 플로팅(Floating) 현상
- 회로가 끊어진 상태에서 입력을 받으면 주변환경에 따라 흔들린다.
- 모든 MCU는 GPIO(General Purpose Input Output)라고 하는 포트를 가지고 있습니다.
	- 디지털/아날로그 입출력이 되는 포트입니다.

보드에 아무것도 연결하지 않은 상태에서 값을 읽어들여 serial 포트로 print() 해보면 의미없는 값들을 볼 수 있습니다.
연결하지 않았을 때는 0,LOW 값이야 하지만 입력을 가하지 않은 MCU 포트에서는 1V,0V를 입력했는지 알 수 없습니다.
이런 문제로 오작동 발생할 수 있습니다. 이런상태를 플로팅 상태라고 합니다.

- 해결법: 풀업/풀다운 저항을 사용하여 0V나 5V로 묶어 놓습니다.


## 2. 풀업(PULL-UP) 저항
- 입력 핀을(포트를) VCC(5V) 입력 상태로 묶어두는 것
- (+) 양극 방향에 저항을 연결한다.
- 버튼에서의 풀업
	- 버튼이 눌리지 않았을 때, 회로를 5V 높은 상태로 묶어준다.

<img src="./pic/PULL-UP.png">


## 3. 풀다운(PULL-DOWN) 저항
- GND (0V) 입력 상태로 포트를 설정하는 것
- (-) 음극(GND) 방향에 저항을 연결한다.
- 버튼에서의 풀다운
	- 버튼이 눌리지 않았을 때 회로를 낮은 상태(GND,0V)로 묶어준다.

<img src="./pic/PULL-DOWN.png">


## 4. 풀업, 풀다운 저항 계산 논리
- 풀업(pull up)은 HIGH 신호를 포트로 넣어주는 것이다.
- 풀다운(pull down)은 LOW 신호를 포트로 넣어주는 것이다.

저항 크기를 계산하기 위해서는 우선 아두이노의 전류를 알아야합니다. 
아두이노에 높은 전류가 흐르게 되면 MCU입력 포트는 망가지게 됩니다.
아두이노 우노 R3의 경우 디지털, 아날로그 포트 출력은 최대 5V 20mA입니다.
보통 20개의 입출력을 사용하는 경우 40mA 나누기 20을 해서 2mA 정도의 전류가 무난하게 흐를 수 있습니다.

여기서 알아야하는 법칙이 옴의 법칙입니다.
```
V = I x R
```

이 법칙을 사용하면 5V 전압에 10K 저항을 연결하면 0.0005A 정도의 전류가 흐르게 됩니다.
그러면 5K 의 저항을 이용하게 되면 1mA의 전류가 흐르는 것을 알 수 있습니다.

- 풀업에서는 1mA 정도의 전류를 흘려 보내주기 위해 5K를 사용합니다.
5K(옴) = 5(V)/0.001(A)

- 풀다운에서는 1mA 이하의 전류를 사용하기 위해 10K 정도의 저항을 사용합니다.
10K(옴) = 5(V)/0.0005(A)
